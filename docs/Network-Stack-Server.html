<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Network.Stack.Server</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Network-Stack-Server.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Network.Stack.Server.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">mqtt-0.1.0.0: An MQTT protocol implementation (client and server).</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) Lars Petersen 2016</td></tr><tr><th>License</th><td>MIT</td></tr><tr><th>Maintainer</th><td>info@lars-petersen.net</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Network.Stack.Server</p></div><div id="description"><p class="caption">Description</p><div class="doc empty">&nbsp;</div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:TLS">TLS</a> a</li><li class="src short"><span class="keyword">data</span> <a href="#t:WebSocket">WebSocket</a> a</li><li class="src short"><span class="keyword">class</span> <a href="../base-4.9.0.0/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a =&gt; <a href="#t:ServerStack">ServerStack</a> a <span class="keyword">where</span><ul class="subs"><li><span class="keyword">data</span> <a href="#t:Server">Server</a> a</li><li><span class="keyword">data</span> <a href="#t:ServerConfig">ServerConfig</a> a</li><li><span class="keyword">data</span> <a href="#t:ServerException">ServerException</a> a</li><li><span class="keyword">data</span> <a href="#t:ServerConnection">ServerConnection</a> a</li><li><span class="keyword">data</span> <a href="#t:ServerConnectionInfo">ServerConnectionInfo</a> a</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="Network-Stack-Server.html#t:ServerStack">ServerStack</a> a =&gt; <a href="#t:StreamServerStack">StreamServerStack</a> a <span class="keyword">where</span><ul class="subs"></ul></li><li class="src short"><span class="keyword">class</span> <a href="Network-Stack-Server.html#t:ServerStack">ServerStack</a> a =&gt; <a href="#t:MessageServerStack">MessageServerStack</a> a <span class="keyword">where</span><ul class="subs"><li><span class="keyword">type</span> <a href="#t:ClientMessage">ClientMessage</a> a</li><li><span class="keyword">type</span> <a href="#t:ServerMessage">ServerMessage</a> a</li></ul></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TLS" class="def">TLS</a> a <a href="src/Network.Stack.Server.html#TLS" class="link">Source</a> <a href="#t:TLS" class="selflink">#</a></p><div class="subs instances"><p id="control.i:TLS" class="caption collapser" onclick="toggleSection('i:TLS')">Instances</p><div id="section.i:TLS" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TLS:Show:1" class="instance expander" onclick="toggleSection('i:id:TLS:Show:1')"></span> <a href="../base-4.9.0.0/Text-Show.html#t:Show">Show</a> (<a href="Network-Stack-Server.html#t:ServerConnectionInfo">ServerConnectionInfo</a> a) =&gt; <a href="../base-4.9.0.0/Text-Show.html#t:Show">Show</a> (<a href="Network-Stack-Server.html#t:ServerConnectionInfo">ServerConnectionInfo</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a))</span> <a href="src/Network.Stack.Server.html#line-131" class="link">Source</a> <a href="#t:TLS" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TLS:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Network-Stack-Server.html#t:ServerConnectionInfo">ServerConnectionInfo</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="../base-4.9.0.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Network-Stack-Server.html#t:ServerConnectionInfo">ServerConnectionInfo</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="../base-4.9.0.0/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Network-Stack-Server.html#t:ServerConnectionInfo">ServerConnectionInfo</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a)] -&gt; <a href="../base-4.9.0.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TLS:StreamServerStack:2" class="instance expander" onclick="toggleSection('i:id:TLS:StreamServerStack:2')"></span> <a href="Network-Stack-Server.html#t:StreamServerStack">StreamServerStack</a> a =&gt; <a href="Network-Stack-Server.html#t:StreamServerStack">StreamServerStack</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a)</span> <a href="src/Network.Stack.Server.html#line-121" class="link">Source</a> <a href="#t:TLS" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TLS:StreamServerStack:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:sendStream">sendStream</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> <a href="src/Network.Stack.Server.html#sendStream" class="link">Source</a> <a href="#v:sendStream" class="selflink">#</a></p><p class="src"><a href="#v:sendStreamLazy">sendStreamLazy</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="../bytestring-0.10.8.1/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.0.0/Data-Int.html#t:Int64">Int64</a> <a href="src/Network.Stack.Server.html#sendStreamLazy" class="link">Source</a> <a href="#v:sendStreamLazy" class="selflink">#</a></p><p class="src"><a href="#v:sendStreamBuilder">sendStreamBuilder</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../binary-0.8.3.0/Data-Binary-Builder.html#t:Builder">Builder</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.0.0/Data-Int.html#t:Int64">Int64</a> <a href="src/Network.Stack.Server.html#sendStreamBuilder" class="link">Source</a> <a href="#v:sendStreamBuilder" class="selflink">#</a></p><p class="src"><a href="#v:receiveStream">receiveStream</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> <a href="src/Network.Stack.Server.html#receiveStream" class="link">Source</a> <a href="#v:receiveStream" class="selflink">#</a></p><p class="src"><a href="#v:receiveStreamLazy">receiveStreamLazy</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../bytestring-0.10.8.1/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> <a href="src/Network.Stack.Server.html#receiveStreamLazy" class="link">Source</a> <a href="#v:receiveStreamLazy" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TLS:ServerStack:3" class="instance expander" onclick="toggleSection('i:id:TLS:ServerStack:3')"></span> <a href="Network-Stack-Server.html#t:StreamServerStack">StreamServerStack</a> a =&gt; <a href="Network-Stack-Server.html#t:ServerStack">ServerStack</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a)</span> <a href="src/Network.Stack.Server.html#line-157" class="link">Source</a> <a href="#t:TLS" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TLS:ServerStack:3" class="inst-details hide"><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#Server" class="link">Source</a> <a href="#t:Server" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerConfig" class="link">Source</a> <a href="#t:ServerConfig" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerException">ServerException</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerException" class="link">Source</a> <a href="#t:ServerException" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerConnection" class="link">Source</a> <a href="#t:ServerConnection" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConnectionInfo">ServerConnectionInfo</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerConnectionInfo" class="link">Source</a> <a href="#t:ServerConnectionInfo" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:withServer">withServer</a> :: <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; (<a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b <a href="src/Network.Stack.Server.html#withServer" class="link">Source</a> <a href="#v:withServer" class="selflink">#</a></p><p class="src"><a href="#v:withConnection">withConnection</a> :: <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; (<a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="Network-Stack-Server.html#t:ServerConnectionInfo">ServerConnectionInfo</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> (<a href="../async-2.1.1/Control-Concurrent-Async.html#t:Async">Async</a> b) <a href="src/Network.Stack.Server.html#withConnection" class="link">Source</a> <a href="#v:withConnection" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TLS:MqttServerTransportStack:4" class="instance expander" onclick="toggleSection('i:id:TLS:MqttServerTransportStack:4')"></span> (<a href="Network-Stack-Server.html#t:StreamServerStack">StreamServerStack</a> a, <a href="Network-MQTT-Server.html#t:MqttServerTransportStack">MqttServerTransportStack</a> a) =&gt; <a href="Network-MQTT-Server.html#t:MqttServerTransportStack">MqttServerTransportStack</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a)</span> <a href="src/Network.MQTT.Server.html#line-64" class="link">Source</a> <a href="#t:MqttServerTransportStack" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TLS:MqttServerTransportStack:4" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getConnectionRequest">getConnectionRequest</a> :: <a href="Network-Stack-Server.html#t:ServerConnectionInfo">ServerConnectionInfo</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="Network-MQTT-Authentication.html#t:ConnectionRequest">ConnectionRequest</a> <a href="src/Network.MQTT.Server.html#getConnectionRequest" class="link">Source</a> <a href="#v:getConnectionRequest" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TLS:Server:5" class="instance expander" onclick="toggleSection('i:id:TLS:Server:5')"></span> <span class="keyword">data</span> <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a)</span> <a href="src/Network.Stack.Server.html#line-159" class="link">Source</a> <a href="#t:TLS" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TLS:Server:5" class="inst-details hide"><div class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) = <a id="v:TlsServer" class="def">TlsServer</a> {<ul class="inst"><li class="inst"><a id="v:tlsTransportServer" class="def">tlsTransportServer</a> :: <a href="Network-Stack-Server.html#t:Server">Server</a> a</li><li class="inst"><a id="v:tlsServerConfig" class="def">tlsServerConfig</a> :: <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a)</li></ul>}</div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TLS:ServerConfig:6" class="instance expander" onclick="toggleSection('i:id:TLS:ServerConfig:6')"></span> <span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a)</span> <a href="src/Network.Stack.Server.html#line-163" class="link">Source</a> <a href="#t:TLS" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TLS:ServerConfig:6" class="inst-details hide"><div class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) = <a id="v:TlsServerConfig" class="def">TlsServerConfig</a> {<ul class="inst"><li class="inst"><a id="v:tlsTransportConfig" class="def">tlsTransportConfig</a> :: <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> a</li><li class="inst"><a id="v:tlsServerParams" class="def">tlsServerParams</a> :: <a href="../tls-1.3.8/Network-TLS.html#t:ServerParams">ServerParams</a></li></ul>}</div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TLS:ServerException:7" class="instance expander" onclick="toggleSection('i:id:TLS:ServerException:7')"></span> <span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerException">ServerException</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a)</span> <a href="src/Network.Stack.Server.html#line-167" class="link">Source</a> <a href="#t:TLS" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TLS:ServerException:7" class="inst-details hide"><div class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerException">ServerException</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) = <a id="v:TlsServerException" class="def">TlsServerException</a></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TLS:ServerConnection:8" class="instance expander" onclick="toggleSection('i:id:TLS:ServerConnection:8')"></span> <span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a)</span> <a href="src/Network.Stack.Server.html#line-168" class="link">Source</a> <a href="#t:TLS" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TLS:ServerConnection:8" class="inst-details hide"><div class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) = <a id="v:TlsServerConnection" class="def">TlsServerConnection</a> {<ul class="inst"><li class="inst"><a id="v:tlsTransportConnection" class="def">tlsTransportConnection</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> a</li><li class="inst"><a id="v:tlsContext" class="def">tlsContext</a> :: <a href="../tls-1.3.8/Network-TLS.html#t:Context">Context</a></li></ul>}</div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TLS:ServerConnectionInfo:9" class="instance expander" onclick="toggleSection('i:id:TLS:ServerConnectionInfo:9')"></span> <span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConnectionInfo">ServerConnectionInfo</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a)</span> <a href="src/Network.Stack.Server.html#line-172" class="link">Source</a> <a href="#t:TLS" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TLS:ServerConnectionInfo:9" class="inst-details hide"><div class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConnectionInfo">ServerConnectionInfo</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) = <a id="v:TlsServerConnectionInfo" class="def">TlsServerConnectionInfo</a> {<ul class="inst"><li class="inst"><a id="v:tlsTransportServerConnectionInfo" class="def">tlsTransportServerConnectionInfo</a> :: <a href="Network-Stack-Server.html#t:ServerConnectionInfo">ServerConnectionInfo</a> a</li><li class="inst"><a id="v:tlsCertificateChain" class="def">tlsCertificateChain</a> :: <a href="../base-4.9.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../x509-1.6.4/Data-X509.html#t:CertificateChain">CertificateChain</a></li></ul>}</div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:WebSocket" class="def">WebSocket</a> a <a href="src/Network.Stack.Server.html#WebSocket" class="link">Source</a> <a href="#t:WebSocket" class="selflink">#</a></p><div class="subs instances"><p id="control.i:WebSocket" class="caption collapser" onclick="toggleSection('i:WebSocket')">Instances</p><div id="section.i:WebSocket" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:WebSocket:Show:1" class="instance expander" onclick="toggleSection('i:id:WebSocket:Show:1')"></span> <a href="../base-4.9.0.0/Text-Show.html#t:Show">Show</a> (<a href="Network-Stack-Server.html#t:ServerConnectionInfo">ServerConnectionInfo</a> a) =&gt; <a href="../base-4.9.0.0/Text-Show.html#t:Show">Show</a> (<a href="Network-Stack-Server.html#t:ServerConnectionInfo">ServerConnectionInfo</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a))</span> <a href="src/Network.Stack.Server.html#line-132" class="link">Source</a> <a href="#t:WebSocket" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:WebSocket:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Network-Stack-Server.html#t:ServerConnectionInfo">ServerConnectionInfo</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="../base-4.9.0.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Network-Stack-Server.html#t:ServerConnectionInfo">ServerConnectionInfo</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="../base-4.9.0.0/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Network-Stack-Server.html#t:ServerConnectionInfo">ServerConnectionInfo</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a)] -&gt; <a href="../base-4.9.0.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:WebSocket:StreamServerStack:2" class="instance expander" onclick="toggleSection('i:id:WebSocket:StreamServerStack:2')"></span> <a href="Network-Stack-Server.html#t:StreamServerStack">StreamServerStack</a> a =&gt; <a href="Network-Stack-Server.html#t:StreamServerStack">StreamServerStack</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a)</span> <a href="src/Network.Stack.Server.html#line-125" class="link">Source</a> <a href="#t:WebSocket" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:WebSocket:StreamServerStack:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:sendStream">sendStream</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> <a href="src/Network.Stack.Server.html#sendStream" class="link">Source</a> <a href="#v:sendStream" class="selflink">#</a></p><p class="src"><a href="#v:sendStreamLazy">sendStreamLazy</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="../bytestring-0.10.8.1/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.0.0/Data-Int.html#t:Int64">Int64</a> <a href="src/Network.Stack.Server.html#sendStreamLazy" class="link">Source</a> <a href="#v:sendStreamLazy" class="selflink">#</a></p><p class="src"><a href="#v:sendStreamBuilder">sendStreamBuilder</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../binary-0.8.3.0/Data-Binary-Builder.html#t:Builder">Builder</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.0.0/Data-Int.html#t:Int64">Int64</a> <a href="src/Network.Stack.Server.html#sendStreamBuilder" class="link">Source</a> <a href="#v:sendStreamBuilder" class="selflink">#</a></p><p class="src"><a href="#v:receiveStream">receiveStream</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> <a href="src/Network.Stack.Server.html#receiveStream" class="link">Source</a> <a href="#v:receiveStream" class="selflink">#</a></p><p class="src"><a href="#v:receiveStreamLazy">receiveStreamLazy</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../bytestring-0.10.8.1/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> <a href="src/Network.Stack.Server.html#receiveStreamLazy" class="link">Source</a> <a href="#v:receiveStreamLazy" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:WebSocket:ServerStack:3" class="instance expander" onclick="toggleSection('i:id:WebSocket:ServerStack:3')"></span> <a href="Network-Stack-Server.html#t:StreamServerStack">StreamServerStack</a> a =&gt; <a href="Network-Stack-Server.html#t:ServerStack">ServerStack</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a)</span> <a href="src/Network.Stack.Server.html#line-205" class="link">Source</a> <a href="#t:WebSocket" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:WebSocket:ServerStack:3" class="inst-details hide"><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#Server" class="link">Source</a> <a href="#t:Server" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerConfig" class="link">Source</a> <a href="#t:ServerConfig" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerException">ServerException</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerException" class="link">Source</a> <a href="#t:ServerException" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerConnection" class="link">Source</a> <a href="#t:ServerConnection" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConnectionInfo">ServerConnectionInfo</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerConnectionInfo" class="link">Source</a> <a href="#t:ServerConnectionInfo" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:withServer">withServer</a> :: <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; (<a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b <a href="src/Network.Stack.Server.html#withServer" class="link">Source</a> <a href="#v:withServer" class="selflink">#</a></p><p class="src"><a href="#v:withConnection">withConnection</a> :: <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; (<a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="Network-Stack-Server.html#t:ServerConnectionInfo">ServerConnectionInfo</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> (<a href="../async-2.1.1/Control-Concurrent-Async.html#t:Async">Async</a> b) <a href="src/Network.Stack.Server.html#withConnection" class="link">Source</a> <a href="#v:withConnection" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:WebSocket:MqttServerTransportStack:4" class="instance expander" onclick="toggleSection('i:id:WebSocket:MqttServerTransportStack:4')"></span> (<a href="Network-Stack-Server.html#t:StreamServerStack">StreamServerStack</a> a, <a href="Network-MQTT-Server.html#t:MqttServerTransportStack">MqttServerTransportStack</a> a) =&gt; <a href="Network-MQTT-Server.html#t:MqttServerTransportStack">MqttServerTransportStack</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a)</span> <a href="src/Network.MQTT.Server.html#line-57" class="link">Source</a> <a href="#t:MqttServerTransportStack" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:WebSocket:MqttServerTransportStack:4" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getConnectionRequest">getConnectionRequest</a> :: <a href="Network-Stack-Server.html#t:ServerConnectionInfo">ServerConnectionInfo</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="Network-MQTT-Authentication.html#t:ConnectionRequest">ConnectionRequest</a> <a href="src/Network.MQTT.Server.html#getConnectionRequest" class="link">Source</a> <a href="#v:getConnectionRequest" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:WebSocket:Server:5" class="instance expander" onclick="toggleSection('i:id:WebSocket:Server:5')"></span> <span class="keyword">data</span> <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a)</span> <a href="src/Network.Stack.Server.html#line-207" class="link">Source</a> <a href="#t:WebSocket" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:WebSocket:Server:5" class="inst-details hide"><div class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) = <a id="v:WebSocketServer" class="def">WebSocketServer</a> {<ul class="inst"><li class="inst"><a id="v:wsTransportServer" class="def">wsTransportServer</a> :: <a href="Network-Stack-Server.html#t:Server">Server</a> a</li></ul>}</div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:WebSocket:ServerConfig:6" class="instance expander" onclick="toggleSection('i:id:WebSocket:ServerConfig:6')"></span> <span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a)</span> <a href="src/Network.Stack.Server.html#line-210" class="link">Source</a> <a href="#t:WebSocket" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:WebSocket:ServerConfig:6" class="inst-details hide"><div class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) = <a id="v:WebSocketServerConfig" class="def">WebSocketServerConfig</a> {<ul class="inst"><li class="inst"><a id="v:wsTransportConfig" class="def">wsTransportConfig</a> :: <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> a</li></ul>}</div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:WebSocket:ServerException:7" class="instance expander" onclick="toggleSection('i:id:WebSocket:ServerException:7')"></span> <span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerException">ServerException</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a)</span> <a href="src/Network.Stack.Server.html#line-213" class="link">Source</a> <a href="#t:WebSocket" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:WebSocket:ServerException:7" class="inst-details hide"><div class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerException">ServerException</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) = <a id="v:WebSocketServerException" class="def">WebSocketServerException</a></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:WebSocket:ServerConnection:8" class="instance expander" onclick="toggleSection('i:id:WebSocket:ServerConnection:8')"></span> <span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a)</span> <a href="src/Network.Stack.Server.html#line-214" class="link">Source</a> <a href="#t:WebSocket" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:WebSocket:ServerConnection:8" class="inst-details hide"><div class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) = <a id="v:WebSocketServerConnection" class="def">WebSocketServerConnection</a> {<ul class="inst"><li class="inst"><a id="v:wsTransportConnection" class="def">wsTransportConnection</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> a</li><li class="inst"><a id="v:wsConnection" class="def">wsConnection</a> :: <a href="../websockets-0.9.7.0/Network-WebSockets-Connection.html#t:Connection">Connection</a></li></ul>}</div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:WebSocket:ServerConnectionInfo:9" class="instance expander" onclick="toggleSection('i:id:WebSocket:ServerConnectionInfo:9')"></span> <span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConnectionInfo">ServerConnectionInfo</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a)</span> <a href="src/Network.Stack.Server.html#line-218" class="link">Source</a> <a href="#t:WebSocket" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:WebSocket:ServerConnectionInfo:9" class="inst-details hide"><div class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConnectionInfo">ServerConnectionInfo</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) = <a id="v:WebSocketServerConnectionInfo" class="def">WebSocketServerConnectionInfo</a> {<ul class="inst"><li class="inst"><a id="v:wsTransportServerConnectionInfo" class="def">wsTransportServerConnectionInfo</a> :: <a href="Network-Stack-Server.html#t:ServerConnectionInfo">ServerConnectionInfo</a> a</li><li class="inst"><a id="v:wsRequestHead" class="def">wsRequestHead</a> :: <a href="../websockets-0.9.7.0/Network-WebSockets.html#t:RequestHead">RequestHead</a></li></ul>}</div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="../base-4.9.0.0/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a =&gt; <a id="t:ServerStack" class="def">ServerStack</a> a <span class="keyword">where</span> <a href="src/Network.Stack.Server.html#ServerStack" class="link">Source</a> <a href="#t:ServerStack" class="selflink">#</a></p><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Network-Stack-Server.html#v:withServer">withServer</a>, <a href="Network-Stack-Server.html#v:withConnection">withConnection</a></p></div><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> <a id="t:Server" class="def">Server</a> a <a href="src/Network.Stack.Server.html#Server" class="link">Source</a> <a href="#t:Server" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a id="t:ServerConfig" class="def">ServerConfig</a> a <a href="src/Network.Stack.Server.html#ServerConfig" class="link">Source</a> <a href="#t:ServerConfig" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a id="t:ServerException" class="def">ServerException</a> a <a href="src/Network.Stack.Server.html#ServerException" class="link">Source</a> <a href="#t:ServerException" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a id="t:ServerConnection" class="def">ServerConnection</a> a <a href="src/Network.Stack.Server.html#ServerConnection" class="link">Source</a> <a href="#t:ServerConnection" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a id="t:ServerConnectionInfo" class="def">ServerConnectionInfo</a> a <a href="src/Network.Stack.Server.html#ServerConnectionInfo" class="link">Source</a> <a href="#t:ServerConnectionInfo" class="selflink">#</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:withServer" class="def">withServer</a> :: <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> a -&gt; (<a href="Network-Stack-Server.html#t:Server">Server</a> a -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b <a href="src/Network.Stack.Server.html#withServer" class="link">Source</a> <a href="#v:withServer" class="selflink">#</a></p><div class="doc"><p>Creates a new server from a configuration and passes it to a handler function.</p><p>The server given to the handler function shall be bound and in
   listening state. The handler function is usually a
   <code><a href="../base-4.9.0.0/Control-Monad.html#v:forever">forever</a></code> loop that accepts and handles new connections.</p><pre>withServer config $ \server-&gt;
  forever $ withConnection handleConnection</pre></div><p class="src"><a id="v:withConnection" class="def">withConnection</a> :: <a href="Network-Stack-Server.html#t:Server">Server</a> a -&gt; (<a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> a -&gt; <a href="Network-Stack-Server.html#t:ServerConnectionInfo">ServerConnectionInfo</a> a -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> (<a href="../async-2.1.1/Control-Concurrent-Async.html#t:Async">Async</a> b) <a href="src/Network.Stack.Server.html#withConnection" class="link">Source</a> <a href="#v:withConnection" class="selflink">#</a></p><div class="doc"><p>Waits for and accepts a new connection from a listening server and passes
   it to a handler function.</p><p>This operation is blocking until the lowest layer in the stack accepts
   a new connection. The handlers of all other layers are executed within
   an <code><a href="../async-2.1.1/Control-Concurrent-Async.html#t:Async">Async</a></code> which is returned. This allows
   the main thread waiting on the underlying socket to block just as long
   as necessary. Upper layer protocol handshakes (TLS etc) will be executed
   in the new thread.</p><pre>withServer config $ \server-&gt; forever $
  future &lt;- withConnection server handleConnection
  putStrLn &quot;The lowest layer accepted a new connection!&quot;
  async $ do
      result &lt;- wait future
      putStrLn &quot;The connection handler returned:&quot;
      print result</pre></div></div><div class="subs instances"><p id="control.i:ServerStack" class="caption collapser" onclick="toggleSection('i:ServerStack')">Instances</p><div id="section.i:ServerStack" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:ServerStack:ServerStack:1" class="instance expander" onclick="toggleSection('i:ic:ServerStack:ServerStack:1')"></span> <a href="Network-Stack-Server.html#t:StreamServerStack">StreamServerStack</a> a =&gt; <a href="Network-Stack-Server.html#t:ServerStack">ServerStack</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a)</span> <a href="src/Network.Stack.Server.html#line-205" class="link">Source</a> <a href="#t:ServerStack" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:ServerStack:ServerStack:1" class="inst-details hide"><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#Server" class="link">Source</a> <a href="#t:Server" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerConfig" class="link">Source</a> <a href="#t:ServerConfig" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerException">ServerException</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerException" class="link">Source</a> <a href="#t:ServerException" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerConnection" class="link">Source</a> <a href="#t:ServerConnection" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConnectionInfo">ServerConnectionInfo</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerConnectionInfo" class="link">Source</a> <a href="#t:ServerConnectionInfo" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:withServer">withServer</a> :: <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; (<a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b <a href="src/Network.Stack.Server.html#withServer" class="link">Source</a> <a href="#v:withServer" class="selflink">#</a></p><p class="src"><a href="#v:withConnection">withConnection</a> :: <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; (<a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="Network-Stack-Server.html#t:ServerConnectionInfo">ServerConnectionInfo</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> (<a href="../async-2.1.1/Control-Concurrent-Async.html#t:Async">Async</a> b) <a href="src/Network.Stack.Server.html#withConnection" class="link">Source</a> <a href="#v:withConnection" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:ServerStack:ServerStack:2" class="instance expander" onclick="toggleSection('i:ic:ServerStack:ServerStack:2')"></span> <a href="Network-Stack-Server.html#t:StreamServerStack">StreamServerStack</a> a =&gt; <a href="Network-Stack-Server.html#t:ServerStack">ServerStack</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a)</span> <a href="src/Network.Stack.Server.html#line-157" class="link">Source</a> <a href="#t:ServerStack" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:ServerStack:ServerStack:2" class="inst-details hide"><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#Server" class="link">Source</a> <a href="#t:Server" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerConfig" class="link">Source</a> <a href="#t:ServerConfig" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerException">ServerException</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerException" class="link">Source</a> <a href="#t:ServerException" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerConnection" class="link">Source</a> <a href="#t:ServerConnection" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConnectionInfo">ServerConnectionInfo</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerConnectionInfo" class="link">Source</a> <a href="#t:ServerConnectionInfo" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:withServer">withServer</a> :: <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; (<a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b <a href="src/Network.Stack.Server.html#withServer" class="link">Source</a> <a href="#v:withServer" class="selflink">#</a></p><p class="src"><a href="#v:withConnection">withConnection</a> :: <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; (<a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="Network-Stack-Server.html#t:ServerConnectionInfo">ServerConnectionInfo</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> (<a href="../async-2.1.1/Control-Concurrent-Async.html#t:Async">Async</a> b) <a href="src/Network.Stack.Server.html#withConnection" class="link">Source</a> <a href="#v:withConnection" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:ServerStack:ServerStack:3" class="instance expander" onclick="toggleSection('i:ic:ServerStack:ServerStack:3')"></span> <a href="Network-Stack-Server.html#t:StreamServerStack">StreamServerStack</a> transport =&gt; <a href="Network-Stack-Server.html#t:ServerStack">ServerStack</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport)</span> <a href="src/Network.Stack.Server.html#line-72" class="link">Source</a> <a href="#t:ServerStack" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:ServerStack:ServerStack:3" class="inst-details hide"><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#Server" class="link">Source</a> <a href="#t:Server" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerConfig" class="link">Source</a> <a href="#t:ServerConfig" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerException">ServerException</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerException" class="link">Source</a> <a href="#t:ServerException" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerConnection" class="link">Source</a> <a href="#t:ServerConnection" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConnectionInfo">ServerConnectionInfo</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerConnectionInfo" class="link">Source</a> <a href="#t:ServerConnectionInfo" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:withServer">withServer</a> :: <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport) -&gt; (<a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b <a href="src/Network.Stack.Server.html#withServer" class="link">Source</a> <a href="#v:withServer" class="selflink">#</a></p><p class="src"><a href="#v:withConnection">withConnection</a> :: <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport) -&gt; (<a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport) -&gt; <a href="Network-Stack-Server.html#t:ServerConnectionInfo">ServerConnectionInfo</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> (<a href="../async-2.1.1/Control-Concurrent-Async.html#t:Async">Async</a> b) <a href="src/Network.Stack.Server.html#withConnection" class="link">Source</a> <a href="#v:withConnection" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:ServerStack:ServerStack:4" class="instance expander" onclick="toggleSection('i:ic:ServerStack:ServerStack:4')"></span> (<a href="../socket-0.8.0.0/System-Socket.html#t:Family">Family</a> f, <a href="../socket-0.8.0.0/System-Socket.html#t:Type">Type</a> t, <a href="../socket-0.8.0.0/System-Socket.html#t:Protocol">Protocol</a> p, <a href="../base-4.9.0.0/Data-Typeable-Internal.html#t:Typeable">Typeable</a> <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> f, <a href="../base-4.9.0.0/Data-Typeable-Internal.html#t:Typeable">Typeable</a> <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> t, <a href="../base-4.9.0.0/Data-Typeable-Internal.html#t:Typeable">Typeable</a> <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> p) =&gt; <a href="Network-Stack-Server.html#t:ServerStack">ServerStack</a> (<a href="../socket-0.8.0.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f t p)</span> <a href="src/Network.Stack.Server.html#line-134" class="link">Source</a> <a href="#t:ServerStack" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:ServerStack:ServerStack:4" class="inst-details hide"><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="../socket-0.8.0.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f t p) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#Server" class="link">Source</a> <a href="#t:Server" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="../socket-0.8.0.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f t p) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerConfig" class="link">Source</a> <a href="#t:ServerConfig" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerException">ServerException</a> (<a href="../socket-0.8.0.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f t p) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerException" class="link">Source</a> <a href="#t:ServerException" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="../socket-0.8.0.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f t p) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerConnection" class="link">Source</a> <a href="#t:ServerConnection" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConnectionInfo">ServerConnectionInfo</a> (<a href="../socket-0.8.0.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f t p) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerConnectionInfo" class="link">Source</a> <a href="#t:ServerConnectionInfo" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:withServer">withServer</a> :: <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="../socket-0.8.0.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f t p) -&gt; (<a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="../socket-0.8.0.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f t p) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b <a href="src/Network.Stack.Server.html#withServer" class="link">Source</a> <a href="#v:withServer" class="selflink">#</a></p><p class="src"><a href="#v:withConnection">withConnection</a> :: <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="../socket-0.8.0.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f t p) -&gt; (<a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="../socket-0.8.0.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f t p) -&gt; <a href="Network-Stack-Server.html#t:ServerConnectionInfo">ServerConnectionInfo</a> (<a href="../socket-0.8.0.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f t p) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> (<a href="../async-2.1.1/Control-Concurrent-Async.html#t:Async">Async</a> b) <a href="src/Network.Stack.Server.html#withConnection" class="link">Source</a> <a href="#v:withConnection" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Network-Stack-Server.html#t:ServerStack">ServerStack</a> a =&gt; <a id="t:StreamServerStack" class="def">StreamServerStack</a> a <span class="keyword">where</span> <a href="src/Network.Stack.Server.html#StreamServerStack" class="link">Source</a> <a href="#t:StreamServerStack" class="selflink">#</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:sendStream" class="def">sendStream</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> a -&gt; <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> <a href="src/Network.Stack.Server.html#sendStream" class="link">Source</a> <a href="#v:sendStream" class="selflink">#</a></p><p class="src"><a id="v:sendStreamLazy" class="def">sendStreamLazy</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> a -&gt; <a href="../bytestring-0.10.8.1/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.0.0/Data-Int.html#t:Int64">Int64</a> <a href="src/Network.Stack.Server.html#sendStreamLazy" class="link">Source</a> <a href="#v:sendStreamLazy" class="selflink">#</a></p><p class="src"><a id="v:sendStreamBuilder" class="def">sendStreamBuilder</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> a -&gt; <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../binary-0.8.3.0/Data-Binary-Builder.html#t:Builder">Builder</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.0.0/Data-Int.html#t:Int64">Int64</a> <a href="src/Network.Stack.Server.html#sendStreamBuilder" class="link">Source</a> <a href="#v:sendStreamBuilder" class="selflink">#</a></p><p class="src"><a id="v:receiveStream" class="def">receiveStream</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> a -&gt; <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> <a href="src/Network.Stack.Server.html#receiveStream" class="link">Source</a> <a href="#v:receiveStream" class="selflink">#</a></p><p class="src"><a id="v:receiveStreamLazy" class="def">receiveStreamLazy</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> a -&gt; <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../bytestring-0.10.8.1/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> <a href="src/Network.Stack.Server.html#receiveStreamLazy" class="link">Source</a> <a href="#v:receiveStreamLazy" class="selflink">#</a></p></div><div class="subs instances"><p id="control.i:StreamServerStack" class="caption collapser" onclick="toggleSection('i:StreamServerStack')">Instances</p><div id="section.i:StreamServerStack" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:StreamServerStack:StreamServerStack:1" class="instance expander" onclick="toggleSection('i:ic:StreamServerStack:StreamServerStack:1')"></span> <a href="Network-Stack-Server.html#t:StreamServerStack">StreamServerStack</a> a =&gt; <a href="Network-Stack-Server.html#t:StreamServerStack">StreamServerStack</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a)</span> <a href="src/Network.Stack.Server.html#line-125" class="link">Source</a> <a href="#t:StreamServerStack" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:StreamServerStack:StreamServerStack:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:sendStream">sendStream</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> <a href="src/Network.Stack.Server.html#sendStream" class="link">Source</a> <a href="#v:sendStream" class="selflink">#</a></p><p class="src"><a href="#v:sendStreamLazy">sendStreamLazy</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="../bytestring-0.10.8.1/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.0.0/Data-Int.html#t:Int64">Int64</a> <a href="src/Network.Stack.Server.html#sendStreamLazy" class="link">Source</a> <a href="#v:sendStreamLazy" class="selflink">#</a></p><p class="src"><a href="#v:sendStreamBuilder">sendStreamBuilder</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../binary-0.8.3.0/Data-Binary-Builder.html#t:Builder">Builder</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.0.0/Data-Int.html#t:Int64">Int64</a> <a href="src/Network.Stack.Server.html#sendStreamBuilder" class="link">Source</a> <a href="#v:sendStreamBuilder" class="selflink">#</a></p><p class="src"><a href="#v:receiveStream">receiveStream</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> <a href="src/Network.Stack.Server.html#receiveStream" class="link">Source</a> <a href="#v:receiveStream" class="selflink">#</a></p><p class="src"><a href="#v:receiveStreamLazy">receiveStreamLazy</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../bytestring-0.10.8.1/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> <a href="src/Network.Stack.Server.html#receiveStreamLazy" class="link">Source</a> <a href="#v:receiveStreamLazy" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:StreamServerStack:StreamServerStack:2" class="instance expander" onclick="toggleSection('i:ic:StreamServerStack:StreamServerStack:2')"></span> <a href="Network-Stack-Server.html#t:StreamServerStack">StreamServerStack</a> a =&gt; <a href="Network-Stack-Server.html#t:StreamServerStack">StreamServerStack</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a)</span> <a href="src/Network.Stack.Server.html#line-121" class="link">Source</a> <a href="#t:StreamServerStack" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:StreamServerStack:StreamServerStack:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:sendStream">sendStream</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> <a href="src/Network.Stack.Server.html#sendStream" class="link">Source</a> <a href="#v:sendStream" class="selflink">#</a></p><p class="src"><a href="#v:sendStreamLazy">sendStreamLazy</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="../bytestring-0.10.8.1/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.0.0/Data-Int.html#t:Int64">Int64</a> <a href="src/Network.Stack.Server.html#sendStreamLazy" class="link">Source</a> <a href="#v:sendStreamLazy" class="selflink">#</a></p><p class="src"><a href="#v:sendStreamBuilder">sendStreamBuilder</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../binary-0.8.3.0/Data-Binary-Builder.html#t:Builder">Builder</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.0.0/Data-Int.html#t:Int64">Int64</a> <a href="src/Network.Stack.Server.html#sendStreamBuilder" class="link">Source</a> <a href="#v:sendStreamBuilder" class="selflink">#</a></p><p class="src"><a href="#v:receiveStream">receiveStream</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> <a href="src/Network.Stack.Server.html#receiveStream" class="link">Source</a> <a href="#v:receiveStream" class="selflink">#</a></p><p class="src"><a href="#v:receiveStreamLazy">receiveStreamLazy</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../bytestring-0.10.8.1/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> <a href="src/Network.Stack.Server.html#receiveStreamLazy" class="link">Source</a> <a href="#v:receiveStreamLazy" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:StreamServerStack:StreamServerStack:3" class="instance expander" onclick="toggleSection('i:ic:StreamServerStack:StreamServerStack:3')"></span> (<a href="../base-4.9.0.0/Data-Typeable-Internal.html#t:Typeable">Typeable</a> <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> f, <a href="../base-4.9.0.0/Data-Typeable-Internal.html#t:Typeable">Typeable</a> <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> p, <a href="../socket-0.8.0.0/System-Socket.html#t:Family">Family</a> f, <a href="../socket-0.8.0.0/System-Socket.html#t:Protocol">Protocol</a> p) =&gt; <a href="Network-Stack-Server.html#t:StreamServerStack">StreamServerStack</a> (<a href="../socket-0.8.0.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f <a href="../socket-0.8.0.0/System-Socket-Type-Stream.html#t:Stream">Stream</a> p)</span> <a href="src/Network.Stack.Server.html#line-115" class="link">Source</a> <a href="#t:StreamServerStack" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:StreamServerStack:StreamServerStack:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:sendStream">sendStream</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="../socket-0.8.0.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f <a href="../socket-0.8.0.0/System-Socket-Type-Stream.html#t:Stream">Stream</a> p) -&gt; <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> <a href="src/Network.Stack.Server.html#sendStream" class="link">Source</a> <a href="#v:sendStream" class="selflink">#</a></p><p class="src"><a href="#v:sendStreamLazy">sendStreamLazy</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="../socket-0.8.0.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f <a href="../socket-0.8.0.0/System-Socket-Type-Stream.html#t:Stream">Stream</a> p) -&gt; <a href="../bytestring-0.10.8.1/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.0.0/Data-Int.html#t:Int64">Int64</a> <a href="src/Network.Stack.Server.html#sendStreamLazy" class="link">Source</a> <a href="#v:sendStreamLazy" class="selflink">#</a></p><p class="src"><a href="#v:sendStreamBuilder">sendStreamBuilder</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="../socket-0.8.0.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f <a href="../socket-0.8.0.0/System-Socket-Type-Stream.html#t:Stream">Stream</a> p) -&gt; <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../binary-0.8.3.0/Data-Binary-Builder.html#t:Builder">Builder</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.0.0/Data-Int.html#t:Int64">Int64</a> <a href="src/Network.Stack.Server.html#sendStreamBuilder" class="link">Source</a> <a href="#v:sendStreamBuilder" class="selflink">#</a></p><p class="src"><a href="#v:receiveStream">receiveStream</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="../socket-0.8.0.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f <a href="../socket-0.8.0.0/System-Socket-Type-Stream.html#t:Stream">Stream</a> p) -&gt; <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> <a href="src/Network.Stack.Server.html#receiveStream" class="link">Source</a> <a href="#v:receiveStream" class="selflink">#</a></p><p class="src"><a href="#v:receiveStreamLazy">receiveStreamLazy</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="../socket-0.8.0.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f <a href="../socket-0.8.0.0/System-Socket-Type-Stream.html#t:Stream">Stream</a> p) -&gt; <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../bytestring-0.10.8.1/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> <a href="src/Network.Stack.Server.html#receiveStreamLazy" class="link">Source</a> <a href="#v:receiveStreamLazy" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Network-Stack-Server.html#t:ServerStack">ServerStack</a> a =&gt; <a id="t:MessageServerStack" class="def">MessageServerStack</a> a <span class="keyword">where</span> <a href="src/Network.Stack.Server.html#MessageServerStack" class="link">Source</a> <a href="#t:MessageServerStack" class="selflink">#</a></p><div class="doc"><p>This class is an abstraction for <code><a href="Network-Stack-Server.html#t:ServerStack">ServerStack</a></code>s that support the
   transmission and reception of finite messages.</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Network-Stack-Server.html#v:sendMessage">sendMessage</a>, <a href="Network-Stack-Server.html#v:sendMessages">sendMessages</a>, <a href="Network-Stack-Server.html#v:receiveMessage">receiveMessage</a>, <a href="Network-Stack-Server.html#v:consumeMessages">consumeMessages</a></p></div><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a id="t:ClientMessage" class="def">ClientMessage</a> a <a href="src/Network.Stack.Server.html#ClientMessage" class="link">Source</a> <a href="#t:ClientMessage" class="selflink">#</a></p><p class="src"><span class="keyword">type</span> <a id="t:ServerMessage" class="def">ServerMessage</a> a <a href="src/Network.Stack.Server.html#ServerMessage" class="link">Source</a> <a href="#t:ServerMessage" class="selflink">#</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:sendMessage" class="def">sendMessage</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> a -&gt; <a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> a -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.0.0/Data-Int.html#t:Int64">Int64</a> <a href="src/Network.Stack.Server.html#sendMessage" class="link">Source</a> <a href="#v:sendMessage" class="selflink">#</a></p><div class="doc"><p>Send a message.</p><ul><li>Returns the encoded message size.</li></ul></div><p class="src"><a id="v:sendMessages" class="def">sendMessages</a> :: <a href="../base-4.9.0.0/Data-Foldable.html#t:Foldable">Foldable</a> t =&gt; <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> a -&gt; t (<a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> a) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.0.0/Data-Int.html#t:Int64">Int64</a> <a href="src/Network.Stack.Server.html#sendMessages" class="link">Source</a> <a href="#v:sendMessages" class="selflink">#</a></p><div class="doc"><p>Send several messages. This might lead to an improvement for very short messages.</p><ul><li>Returns the summed size of all encoded messages.</li></ul></div><p class="src"><a id="v:receiveMessage" class="def">receiveMessage</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> a -&gt; <a href="../base-4.9.0.0/Data-Int.html#t:Int64">Int64</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> (<a href="Network-Stack-Server.html#t:ClientMessage">ClientMessage</a> a) <a href="src/Network.Stack.Server.html#receiveMessage" class="link">Source</a> <a href="#v:receiveMessage" class="selflink">#</a></p><div class="doc"><p>Receive a message.</p><ul><li>The second parameter determines the maximum encoded message size which
     must not be exceeded by the client or an exception will be thrown.
     Implementations shall track the consumed bytes and shall throw an
     exception as soon as the limit is exceeded even if the message is not
     yet complete. This is important to prevent _denial of service_ attacks.</li></ul></div><p class="src"><a id="v:consumeMessages" class="def">consumeMessages</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> a -&gt; <a href="../base-4.9.0.0/Data-Int.html#t:Int64">Int64</a> -&gt; (<a href="Network-Stack-Server.html#t:ClientMessage">ClientMessage</a> a -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.0.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> () <a href="src/Network.Stack.Server.html#consumeMessages" class="link">Source</a> <a href="#v:consumeMessages" class="selflink">#</a></p><div class="doc"><p>Consumes incoming messages with a supplied consumer callback.</p><ul><li>The second parameter limits the size of a single encoded message
     (see <code><a href="Network-Stack-Server.html#v:receiveMessage">receiveMessage</a></code>).</li></ul></div></div><div class="subs instances"><p id="control.i:MessageServerStack" class="caption collapser" onclick="toggleSection('i:MessageServerStack')">Instances</p><div id="section.i:MessageServerStack" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:MessageServerStack:MessageServerStack:1" class="instance expander" onclick="toggleSection('i:ic:MessageServerStack:MessageServerStack:1')"></span> <a href="Network-Stack-Server.html#t:StreamServerStack">StreamServerStack</a> transport =&gt; <a href="Network-Stack-Server.html#t:MessageServerStack">MessageServerStack</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport)</span> <a href="src/Network.Stack.Server.html#line-104" class="link">Source</a> <a href="#t:MessageServerStack" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:MessageServerStack:MessageServerStack:1" class="inst-details hide"><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Network-Stack-Server.html#t:ClientMessage">ClientMessage</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ClientMessage" class="link">Source</a> <a href="#t:ClientMessage" class="selflink">#</a></p><p class="src"><span class="keyword">type</span> <a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerMessage" class="link">Source</a> <a href="#t:ServerMessage" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:sendMessage">sendMessage</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport) -&gt; <a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.0.0/Data-Int.html#t:Int64">Int64</a> <a href="src/Network.Stack.Server.html#sendMessage" class="link">Source</a> <a href="#v:sendMessage" class="selflink">#</a></p><p class="src"><a href="#v:sendMessages">sendMessages</a> :: <a href="../base-4.9.0.0/Data-Foldable.html#t:Foldable">Foldable</a> t =&gt; <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport) -&gt; t (<a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport)) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.0.0/Data-Int.html#t:Int64">Int64</a> <a href="src/Network.Stack.Server.html#sendMessages" class="link">Source</a> <a href="#v:sendMessages" class="selflink">#</a></p><p class="src"><a href="#v:receiveMessage">receiveMessage</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport) -&gt; <a href="../base-4.9.0.0/Data-Int.html#t:Int64">Int64</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> (<a href="Network-Stack-Server.html#t:ClientMessage">ClientMessage</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport)) <a href="src/Network.Stack.Server.html#receiveMessage" class="link">Source</a> <a href="#v:receiveMessage" class="selflink">#</a></p><p class="src"><a href="#v:consumeMessages">consumeMessages</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport) -&gt; <a href="../base-4.9.0.0/Data-Int.html#t:Int64">Int64</a> -&gt; (<a href="Network-Stack-Server.html#t:ClientMessage">ClientMessage</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.0.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> () <a href="src/Network.Stack.Server.html#consumeMessages" class="link">Source</a> <a href="#v:consumeMessages" class="selflink">#</a></p></div></div></td></tr></table></div></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.2</p></div></body></html>