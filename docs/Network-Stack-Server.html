<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Network.Stack.Server</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Network-Stack-Server.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Network.Stack.Server.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">mqtt-0.1.0.0: An MQTT protocol implementation (client and server).</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) Lars Petersen 2016</td></tr><tr><th>License</th><td>MIT</td></tr><tr><th>Maintainer</th><td>info@lars-petersen.net</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Network.Stack.Server</p></div><div id="description"><p class="caption">Description</p><div class="doc empty">&nbsp;</div></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TLS" class="def">TLS</a> a <a href="src/Network.Stack.Server.html#TLS" class="link">Source</a> <a href="#t:TLS" class="selflink">#</a></p><div class="subs instances"><p id="control.i:TLS" class="caption collapser" onclick="toggleSection('i:TLS')">Instances</p><div id="section.i:TLS" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TLS:Request:1" class="instance expander" onclick="toggleSection('i:id:TLS:Request:1')"></span> <a href="Network-MQTT-Authentication.html#t:Request">Request</a> (<a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> a) =&gt; <a href="Network-MQTT-Authentication.html#t:Request">Request</a> (<a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a))</span> <a href="src/Network.Stack.Server.html#line-176" class="link">Source</a> <a href="#t:TLS" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TLS:Request:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:requestSecure">requestSecure</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="../base-4.9.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/Network.MQTT.Authentication.html#requestSecure" class="link">Source</a> <a href="#v:requestSecure" class="selflink">#</a></p><p class="src"><a href="#v:requestUsername">requestUsername</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="../base-4.9.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a> <a href="src/Network.MQTT.Authentication.html#requestUsername" class="link">Source</a> <a href="#v:requestUsername" class="selflink">#</a></p><p class="src"><a href="#v:requestPassword">requestPassword</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="../base-4.9.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> <a href="src/Network.MQTT.Authentication.html#requestPassword" class="link">Source</a> <a href="#v:requestPassword" class="selflink">#</a></p><p class="src"><a href="#v:requestHeaders">requestHeaders</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; [(<a href="../case-insensitive-1.2.0.7/Data-CaseInsensitive.html#t:CI">CI</a> <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a>, <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a>)] <a href="src/Network.MQTT.Authentication.html#requestHeaders" class="link">Source</a> <a href="#v:requestHeaders" class="selflink">#</a></p><p class="src"><a href="#v:requestCertificateChain">requestCertificateChain</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="../base-4.9.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../x509-1.6.4/Data-X509.html#t:CertificateChain">CertificateChain</a> <a href="src/Network.MQTT.Authentication.html#requestCertificateChain" class="link">Source</a> <a href="#v:requestCertificateChain" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TLS:ServerStack:2" class="instance expander" onclick="toggleSection('i:id:TLS:ServerStack:2')"></span> (<a href="Network-Stack-Server.html#t:ServerStack">ServerStack</a> a, (~) <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> (<a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> a) <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a>) =&gt; <a href="Network-Stack-Server.html#t:ServerStack">ServerStack</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a)</span> <a href="src/Network.Stack.Server.html#line-103" class="link">Source</a> <a href="#t:TLS" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TLS:ServerStack:2" class="inst-details hide"><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerMessage" class="link">Source</a> <a href="#t:ServerMessage" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#Server" class="link">Source</a> <a href="#t:Server" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerConfig" class="link">Source</a> <a href="#t:ServerConfig" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerException">ServerException</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerException" class="link">Source</a> <a href="#t:ServerException" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerConnection" class="link">Source</a> <a href="#t:ServerConnection" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:withServer">withServer</a> :: <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; (<a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b <a href="src/Network.Stack.Server.html#withServer" class="link">Source</a> <a href="#v:withServer" class="selflink">#</a></p><p class="src"><a href="#v:withConnection">withConnection</a> :: <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; (<a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> (<a href="../async-2.1.0/Control-Concurrent-Async.html#t:Async">Async</a> b) <a href="src/Network.Stack.Server.html#withConnection" class="link">Source</a> <a href="#v:withConnection" class="selflink">#</a></p><p class="src"><a href="#v:flush">flush</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> () <a href="src/Network.Stack.Server.html#flush" class="link">Source</a> <a href="#v:flush" class="selflink">#</a></p><p class="src"><a href="#v:send">send</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> () <a href="src/Network.Stack.Server.html#send" class="link">Source</a> <a href="#v:send" class="selflink">#</a></p><p class="src"><a href="#v:receive">receive</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> (<a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a)) <a href="src/Network.Stack.Server.html#receive" class="link">Source</a> <a href="#v:receive" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TLS:ServerMessage:3" class="instance expander" onclick="toggleSection('i:id:TLS:ServerMessage:3')"></span> <span class="keyword">type</span> <a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a)</span> <a href="src/Network.Stack.Server.html#line-104" class="link">Source</a> <a href="#t:TLS" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TLS:ServerMessage:3" class="inst-details hide"><div class="src"><span class="keyword">type</span> <a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) = <a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> a</div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TLS:Server:4" class="instance expander" onclick="toggleSection('i:id:TLS:Server:4')"></span> <span class="keyword">data</span> <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a)</span> <a href="src/Network.Stack.Server.html#line-105" class="link">Source</a> <a href="#t:TLS" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TLS:Server:4" class="inst-details hide"><div class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) = <a id="v:TlsServer" class="def">TlsServer</a> {<ul class="inst"><li class="inst"><a id="v:tlsTransportServer" class="def">tlsTransportServer</a> :: <a href="Network-Stack-Server.html#t:Server">Server</a> a</li><li class="inst"><a id="v:tlsServerConfig" class="def">tlsServerConfig</a> :: <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a)</li></ul>}</div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TLS:ServerConfig:5" class="instance expander" onclick="toggleSection('i:id:TLS:ServerConfig:5')"></span> <span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a)</span> <a href="src/Network.Stack.Server.html#line-109" class="link">Source</a> <a href="#t:TLS" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TLS:ServerConfig:5" class="inst-details hide"><div class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) = <a id="v:TlsServerConfig" class="def">TlsServerConfig</a> {<ul class="inst"><li class="inst"><a id="v:tlsTransportConfig" class="def">tlsTransportConfig</a> :: <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> a</li><li class="inst"><a id="v:tlsServerParams" class="def">tlsServerParams</a> :: <a href="../tls-1.3.8/Network-TLS.html#t:ServerParams">ServerParams</a></li></ul>}</div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TLS:ServerException:6" class="instance expander" onclick="toggleSection('i:id:TLS:ServerException:6')"></span> <span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerException">ServerException</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a)</span> <a href="src/Network.Stack.Server.html#line-113" class="link">Source</a> <a href="#t:TLS" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TLS:ServerException:6" class="inst-details hide"><div class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerException">ServerException</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) = <a id="v:TlsServerException" class="def">TlsServerException</a></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TLS:ServerConnection:7" class="instance expander" onclick="toggleSection('i:id:TLS:ServerConnection:7')"></span> <span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a)</span> <a href="src/Network.Stack.Server.html#line-114" class="link">Source</a> <a href="#t:TLS" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TLS:ServerConnection:7" class="inst-details hide"><div class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) = <a id="v:TlsServerConnection" class="def">TlsServerConnection</a> {<ul class="inst"><li class="inst"><a id="v:tlsTransportConnection" class="def">tlsTransportConnection</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> a</li><li class="inst"><a id="v:tlsContext" class="def">tlsContext</a> :: <a href="../tls-1.3.8/Network-TLS.html#t:Context">Context</a></li><li class="inst"><a id="v:tlsCertificateChain" class="def">tlsCertificateChain</a> :: <a href="../base-4.9.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../x509-1.6.4/Data-X509.html#t:CertificateChain">CertificateChain</a></li></ul>}</div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:WebSocket" class="def">WebSocket</a> a <a href="src/Network.Stack.Server.html#WebSocket" class="link">Source</a> <a href="#t:WebSocket" class="selflink">#</a></p><div class="subs instances"><p id="control.i:WebSocket" class="caption collapser" onclick="toggleSection('i:WebSocket')">Instances</p><div id="section.i:WebSocket" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:WebSocket:Request:1" class="instance expander" onclick="toggleSection('i:id:WebSocket:Request:1')"></span> <a href="Network-MQTT-Authentication.html#t:Request">Request</a> (<a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> a) =&gt; <a href="Network-MQTT-Authentication.html#t:Request">Request</a> (<a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a))</span> <a href="src/Network.Stack.Server.html#line-181" class="link">Source</a> <a href="#t:WebSocket" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:WebSocket:Request:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:requestSecure">requestSecure</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="../base-4.9.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/Network.MQTT.Authentication.html#requestSecure" class="link">Source</a> <a href="#v:requestSecure" class="selflink">#</a></p><p class="src"><a href="#v:requestUsername">requestUsername</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="../base-4.9.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a> <a href="src/Network.MQTT.Authentication.html#requestUsername" class="link">Source</a> <a href="#v:requestUsername" class="selflink">#</a></p><p class="src"><a href="#v:requestPassword">requestPassword</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="../base-4.9.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> <a href="src/Network.MQTT.Authentication.html#requestPassword" class="link">Source</a> <a href="#v:requestPassword" class="selflink">#</a></p><p class="src"><a href="#v:requestHeaders">requestHeaders</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; [(<a href="../case-insensitive-1.2.0.7/Data-CaseInsensitive.html#t:CI">CI</a> <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a>, <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a>)] <a href="src/Network.MQTT.Authentication.html#requestHeaders" class="link">Source</a> <a href="#v:requestHeaders" class="selflink">#</a></p><p class="src"><a href="#v:requestCertificateChain">requestCertificateChain</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="../base-4.9.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../x509-1.6.4/Data-X509.html#t:CertificateChain">CertificateChain</a> <a href="src/Network.MQTT.Authentication.html#requestCertificateChain" class="link">Source</a> <a href="#v:requestCertificateChain" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:WebSocket:ServerStack:2" class="instance expander" onclick="toggleSection('i:id:WebSocket:ServerStack:2')"></span> (<a href="Network-Stack-Server.html#t:ServerStack">ServerStack</a> a, (~) <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> (<a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> a) <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a>) =&gt; <a href="Network-Stack-Server.html#t:ServerStack">ServerStack</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a)</span> <a href="src/Network.Stack.Server.html#line-142" class="link">Source</a> <a href="#t:WebSocket" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:WebSocket:ServerStack:2" class="inst-details hide"><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerMessage" class="link">Source</a> <a href="#t:ServerMessage" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#Server" class="link">Source</a> <a href="#t:Server" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerConfig" class="link">Source</a> <a href="#t:ServerConfig" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerException">ServerException</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerException" class="link">Source</a> <a href="#t:ServerException" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerConnection" class="link">Source</a> <a href="#t:ServerConnection" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:withServer">withServer</a> :: <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; (<a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b <a href="src/Network.Stack.Server.html#withServer" class="link">Source</a> <a href="#v:withServer" class="selflink">#</a></p><p class="src"><a href="#v:withConnection">withConnection</a> :: <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; (<a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> (<a href="../async-2.1.0/Control-Concurrent-Async.html#t:Async">Async</a> b) <a href="src/Network.Stack.Server.html#withConnection" class="link">Source</a> <a href="#v:withConnection" class="selflink">#</a></p><p class="src"><a href="#v:flush">flush</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> () <a href="src/Network.Stack.Server.html#flush" class="link">Source</a> <a href="#v:flush" class="selflink">#</a></p><p class="src"><a href="#v:send">send</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> () <a href="src/Network.Stack.Server.html#send" class="link">Source</a> <a href="#v:send" class="selflink">#</a></p><p class="src"><a href="#v:receive">receive</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> (<a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a)) <a href="src/Network.Stack.Server.html#receive" class="link">Source</a> <a href="#v:receive" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:WebSocket:ServerMessage:3" class="instance expander" onclick="toggleSection('i:id:WebSocket:ServerMessage:3')"></span> <span class="keyword">type</span> <a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a)</span> <a href="src/Network.Stack.Server.html#line-143" class="link">Source</a> <a href="#t:WebSocket" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:WebSocket:ServerMessage:3" class="inst-details hide"><div class="src"><span class="keyword">type</span> <a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) = <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:WebSocket:Server:4" class="instance expander" onclick="toggleSection('i:id:WebSocket:Server:4')"></span> <span class="keyword">data</span> <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a)</span> <a href="src/Network.Stack.Server.html#line-144" class="link">Source</a> <a href="#t:WebSocket" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:WebSocket:Server:4" class="inst-details hide"><div class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) = <a id="v:WebSocketServer" class="def">WebSocketServer</a> {<ul class="inst"><li class="inst"><a id="v:wsTransportServer" class="def">wsTransportServer</a> :: <a href="Network-Stack-Server.html#t:Server">Server</a> a</li></ul>}</div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:WebSocket:ServerConfig:5" class="instance expander" onclick="toggleSection('i:id:WebSocket:ServerConfig:5')"></span> <span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a)</span> <a href="src/Network.Stack.Server.html#line-147" class="link">Source</a> <a href="#t:WebSocket" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:WebSocket:ServerConfig:5" class="inst-details hide"><div class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) = <a id="v:WebSocketServerConfig" class="def">WebSocketServerConfig</a> {<ul class="inst"><li class="inst"><a id="v:wsTransportConfig" class="def">wsTransportConfig</a> :: <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> a</li></ul>}</div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:WebSocket:ServerException:6" class="instance expander" onclick="toggleSection('i:id:WebSocket:ServerException:6')"></span> <span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerException">ServerException</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a)</span> <a href="src/Network.Stack.Server.html#line-150" class="link">Source</a> <a href="#t:WebSocket" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:WebSocket:ServerException:6" class="inst-details hide"><div class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerException">ServerException</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) = <a id="v:WebSocketServerException" class="def">WebSocketServerException</a></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:WebSocket:ServerConnection:7" class="instance expander" onclick="toggleSection('i:id:WebSocket:ServerConnection:7')"></span> <span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a)</span> <a href="src/Network.Stack.Server.html#line-151" class="link">Source</a> <a href="#t:WebSocket" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:WebSocket:ServerConnection:7" class="inst-details hide"><div class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) = <a id="v:WebSocketServerConnection" class="def">WebSocketServerConnection</a> {<ul class="inst"><li class="inst"><a id="v:wsTransportConnection" class="def">wsTransportConnection</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> a</li><li class="inst"><a id="v:wsPendingConnection" class="def">wsPendingConnection</a> :: <a href="../websockets-0.9.7.0/Network-WebSockets-Connection.html#t:PendingConnection">PendingConnection</a></li><li class="inst"><a id="v:wsConnection" class="def">wsConnection</a> :: <a href="../websockets-0.9.7.0/Network-WebSockets-Connection.html#t:Connection">Connection</a></li></ul>}</div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="../base-4.9.0.0/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a =&gt; <a id="t:ServerStack" class="def">ServerStack</a> a <span class="keyword">where</span> <a href="src/Network.Stack.Server.html#ServerStack" class="link">Source</a> <a href="#t:ServerStack" class="selflink">#</a></p><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Network-Stack-Server.html#v:withServer">withServer</a>, <a href="Network-Stack-Server.html#v:withConnection">withConnection</a>, <a href="Network-Stack-Server.html#v:flush">flush</a>, <a href="Network-Stack-Server.html#v:send">send</a>, <a href="Network-Stack-Server.html#v:receive">receive</a></p></div><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a id="t:ServerMessage" class="def">ServerMessage</a> a <a href="src/Network.Stack.Server.html#ServerMessage" class="link">Source</a> <a href="#t:ServerMessage" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a id="t:Server" class="def">Server</a> a <a href="src/Network.Stack.Server.html#Server" class="link">Source</a> <a href="#t:Server" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a id="t:ServerConfig" class="def">ServerConfig</a> a <a href="src/Network.Stack.Server.html#ServerConfig" class="link">Source</a> <a href="#t:ServerConfig" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a id="t:ServerException" class="def">ServerException</a> a <a href="src/Network.Stack.Server.html#ServerException" class="link">Source</a> <a href="#t:ServerException" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a id="t:ServerConnection" class="def">ServerConnection</a> a <a href="src/Network.Stack.Server.html#ServerConnection" class="link">Source</a> <a href="#t:ServerConnection" class="selflink">#</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:withServer" class="def">withServer</a> :: <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> a -&gt; (<a href="Network-Stack-Server.html#t:Server">Server</a> a -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b <a href="src/Network.Stack.Server.html#withServer" class="link">Source</a> <a href="#v:withServer" class="selflink">#</a></p><div class="doc"><p>Creates a new server from a configuration and passes it to a handler function.</p><p>The server given to the handler function shall be bound and in
   listening state. The handler function is usually a
   <code><a href="../base-4.9.0.0/Control-Monad.html#v:forever">forever</a></code> loop that accepts and handles new connections.</p><pre>withServer config $ \server-&gt;
  forever $ withConnection handleConnection</pre></div><p class="src"><a id="v:withConnection" class="def">withConnection</a> :: <a href="Network-Stack-Server.html#t:Server">Server</a> a -&gt; (<a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> a -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> (<a href="../async-2.1.0/Control-Concurrent-Async.html#t:Async">Async</a> b) <a href="src/Network.Stack.Server.html#withConnection" class="link">Source</a> <a href="#v:withConnection" class="selflink">#</a></p><div class="doc"><p>Waits for and accepts a new connection from a listening server and passes
   it to a handler function.</p><p>This operation is blocking until the lowest layer in the stack accepts
   a new connection. The handlers of all other layers are executed within
   an <code><a href="../async-2.1.0/Control-Concurrent-Async.html#t:Async">Async</a></code> which is returned. This allows
   the main thread waiting on the underlying socket to block just as long
   as necessary. Upper layer protocol handshakes (TLS etc) will be executed
   in a new thread.</p><pre>withServer config $ \server-&gt; forever $
  future &lt;- withConnection server handleConnection
  putStrLn &quot;The lowest layer accepted a new connection!&quot;
  async $ do
      result &lt;- wait future
      putStrLn &quot;The connection handler returned:&quot;
      print result</pre></div><p class="src"><a id="v:flush" class="def">flush</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> a -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> () <a href="src/Network.Stack.Server.html#flush" class="link">Source</a> <a href="#v:flush" class="selflink">#</a></p><p class="src"><a id="v:send" class="def">send</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> a -&gt; <a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> a -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> () <a href="src/Network.Stack.Server.html#send" class="link">Source</a> <a href="#v:send" class="selflink">#</a></p><p class="src"><a id="v:receive" class="def">receive</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> a -&gt; <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> (<a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> a) <a href="src/Network.Stack.Server.html#receive" class="link">Source</a> <a href="#v:receive" class="selflink">#</a></p></div><div class="subs instances"><p id="control.i:ServerStack" class="caption collapser" onclick="toggleSection('i:ServerStack')">Instances</p><div id="section.i:ServerStack" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:ServerStack:ServerStack:1" class="instance expander" onclick="toggleSection('i:ic:ServerStack:ServerStack:1')"></span> (<a href="Network-Stack-Server.html#t:ServerStack">ServerStack</a> a, (~) <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> (<a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> a) <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a>) =&gt; <a href="Network-Stack-Server.html#t:ServerStack">ServerStack</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a)</span> <a href="src/Network.Stack.Server.html#line-142" class="link">Source</a> <a href="#t:ServerStack" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:ServerStack:ServerStack:1" class="inst-details hide"><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerMessage" class="link">Source</a> <a href="#t:ServerMessage" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#Server" class="link">Source</a> <a href="#t:Server" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerConfig" class="link">Source</a> <a href="#t:ServerConfig" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerException">ServerException</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerException" class="link">Source</a> <a href="#t:ServerException" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerConnection" class="link">Source</a> <a href="#t:ServerConnection" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:withServer">withServer</a> :: <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; (<a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b <a href="src/Network.Stack.Server.html#withServer" class="link">Source</a> <a href="#v:withServer" class="selflink">#</a></p><p class="src"><a href="#v:withConnection">withConnection</a> :: <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; (<a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> (<a href="../async-2.1.0/Control-Concurrent-Async.html#t:Async">Async</a> b) <a href="src/Network.Stack.Server.html#withConnection" class="link">Source</a> <a href="#v:withConnection" class="selflink">#</a></p><p class="src"><a href="#v:flush">flush</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> () <a href="src/Network.Stack.Server.html#flush" class="link">Source</a> <a href="#v:flush" class="selflink">#</a></p><p class="src"><a href="#v:send">send</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> () <a href="src/Network.Stack.Server.html#send" class="link">Source</a> <a href="#v:send" class="selflink">#</a></p><p class="src"><a href="#v:receive">receive</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a) -&gt; <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> (<a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> (<a href="Network-Stack-Server.html#t:WebSocket">WebSocket</a> a)) <a href="src/Network.Stack.Server.html#receive" class="link">Source</a> <a href="#v:receive" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:ServerStack:ServerStack:2" class="instance expander" onclick="toggleSection('i:ic:ServerStack:ServerStack:2')"></span> (<a href="Network-Stack-Server.html#t:ServerStack">ServerStack</a> a, (~) <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> (<a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> a) <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a>) =&gt; <a href="Network-Stack-Server.html#t:ServerStack">ServerStack</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a)</span> <a href="src/Network.Stack.Server.html#line-103" class="link">Source</a> <a href="#t:ServerStack" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:ServerStack:ServerStack:2" class="inst-details hide"><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerMessage" class="link">Source</a> <a href="#t:ServerMessage" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#Server" class="link">Source</a> <a href="#t:Server" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerConfig" class="link">Source</a> <a href="#t:ServerConfig" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerException">ServerException</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerException" class="link">Source</a> <a href="#t:ServerException" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerConnection" class="link">Source</a> <a href="#t:ServerConnection" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:withServer">withServer</a> :: <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; (<a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b <a href="src/Network.Stack.Server.html#withServer" class="link">Source</a> <a href="#v:withServer" class="selflink">#</a></p><p class="src"><a href="#v:withConnection">withConnection</a> :: <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; (<a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> (<a href="../async-2.1.0/Control-Concurrent-Async.html#t:Async">Async</a> b) <a href="src/Network.Stack.Server.html#withConnection" class="link">Source</a> <a href="#v:withConnection" class="selflink">#</a></p><p class="src"><a href="#v:flush">flush</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> () <a href="src/Network.Stack.Server.html#flush" class="link">Source</a> <a href="#v:flush" class="selflink">#</a></p><p class="src"><a href="#v:send">send</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> () <a href="src/Network.Stack.Server.html#send" class="link">Source</a> <a href="#v:send" class="selflink">#</a></p><p class="src"><a href="#v:receive">receive</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a) -&gt; <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> (<a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> (<a href="Network-Stack-Server.html#t:TLS">TLS</a> a)) <a href="src/Network.Stack.Server.html#receive" class="link">Source</a> <a href="#v:receive" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:ServerStack:ServerStack:3" class="instance expander" onclick="toggleSection('i:ic:ServerStack:ServerStack:3')"></span> (<a href="Network-Stack-Server.html#t:ServerStack">ServerStack</a> transport, (~) <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> (<a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> transport) <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a>) =&gt; <a href="Network-Stack-Server.html#t:ServerStack">ServerStack</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport)</span> <a href="src/Network.Stack.Server.html#line-30" class="link">Source</a> <a href="#t:ServerStack" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:ServerStack:ServerStack:3" class="inst-details hide"><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerMessage" class="link">Source</a> <a href="#t:ServerMessage" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#Server" class="link">Source</a> <a href="#t:Server" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerConfig" class="link">Source</a> <a href="#t:ServerConfig" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerException">ServerException</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerException" class="link">Source</a> <a href="#t:ServerException" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerConnection" class="link">Source</a> <a href="#t:ServerConnection" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:withServer">withServer</a> :: <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport) -&gt; (<a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b <a href="src/Network.Stack.Server.html#withServer" class="link">Source</a> <a href="#v:withServer" class="selflink">#</a></p><p class="src"><a href="#v:withConnection">withConnection</a> :: <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport) -&gt; (<a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> (<a href="../async-2.1.0/Control-Concurrent-Async.html#t:Async">Async</a> b) <a href="src/Network.Stack.Server.html#withConnection" class="link">Source</a> <a href="#v:withConnection" class="selflink">#</a></p><p class="src"><a href="#v:flush">flush</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> () <a href="src/Network.Stack.Server.html#flush" class="link">Source</a> <a href="#v:flush" class="selflink">#</a></p><p class="src"><a href="#v:send">send</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport) -&gt; <a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> () <a href="src/Network.Stack.Server.html#send" class="link">Source</a> <a href="#v:send" class="selflink">#</a></p><p class="src"><a href="#v:receive">receive</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport) -&gt; <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> (<a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> (<a href="Network-MQTT-Server.html#t:MQTT">MQTT</a> transport)) <a href="src/Network.Stack.Server.html#receive" class="link">Source</a> <a href="#v:receive" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:ServerStack:ServerStack:4" class="instance expander" onclick="toggleSection('i:ic:ServerStack:ServerStack:4')"></span> (<a href="../base-4.9.0.0/Foreign-Storable.html#t:Storable">Storable</a> (<a href="../socket-0.6.1.0/System-Socket-Family-Inet6.html#t:SocketAddress">SocketAddress</a> f), <a href="../socket-0.6.1.0/System-Socket.html#t:Family">Family</a> f, <a href="../socket-0.6.1.0/System-Socket.html#t:Type">Type</a> t, <a href="../socket-0.6.1.0/System-Socket.html#t:Protocol">Protocol</a> p, <a href="../base-4.9.0.0/Data-Typeable-Internal.html#t:Typeable">Typeable</a> <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> f, <a href="../base-4.9.0.0/Data-Typeable-Internal.html#t:Typeable">Typeable</a> <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> t, <a href="../base-4.9.0.0/Data-Typeable-Internal.html#t:Typeable">Typeable</a> <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> p) =&gt; <a href="Network-Stack-Server.html#t:ServerStack">ServerStack</a> (<a href="../socket-0.6.1.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f t p)</span> <a href="src/Network.Stack.Server.html#line-73" class="link">Source</a> <a href="#t:ServerStack" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:ServerStack:ServerStack:4" class="inst-details hide"><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> (<a href="../socket-0.6.1.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f t p) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerMessage" class="link">Source</a> <a href="#t:ServerMessage" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="../socket-0.6.1.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f t p) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#Server" class="link">Source</a> <a href="#t:Server" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="../socket-0.6.1.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f t p) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerConfig" class="link">Source</a> <a href="#t:ServerConfig" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerException">ServerException</a> (<a href="../socket-0.6.1.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f t p) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerException" class="link">Source</a> <a href="#t:ServerException" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="../socket-0.6.1.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f t p) :: <a href="../base-4.9.0.0/Data-Kind.html#t:-42-">*</a> <a href="src/Network.Stack.Server.html#ServerConnection" class="link">Source</a> <a href="#t:ServerConnection" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:withServer">withServer</a> :: <a href="Network-Stack-Server.html#t:ServerConfig">ServerConfig</a> (<a href="../socket-0.6.1.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f t p) -&gt; (<a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="../socket-0.6.1.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f t p) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b <a href="src/Network.Stack.Server.html#withServer" class="link">Source</a> <a href="#v:withServer" class="selflink">#</a></p><p class="src"><a href="#v:withConnection">withConnection</a> :: <a href="Network-Stack-Server.html#t:Server">Server</a> (<a href="../socket-0.6.1.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f t p) -&gt; (<a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="../socket-0.6.1.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f t p) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> (<a href="../async-2.1.0/Control-Concurrent-Async.html#t:Async">Async</a> b) <a href="src/Network.Stack.Server.html#withConnection" class="link">Source</a> <a href="#v:withConnection" class="selflink">#</a></p><p class="src"><a href="#v:flush">flush</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="../socket-0.6.1.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f t p) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> () <a href="src/Network.Stack.Server.html#flush" class="link">Source</a> <a href="#v:flush" class="selflink">#</a></p><p class="src"><a href="#v:send">send</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="../socket-0.6.1.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f t p) -&gt; <a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> (<a href="../socket-0.6.1.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f t p) -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> () <a href="src/Network.Stack.Server.html#send" class="link">Source</a> <a href="#v:send" class="selflink">#</a></p><p class="src"><a href="#v:receive">receive</a> :: <a href="Network-Stack-Server.html#t:ServerConnection">ServerConnection</a> (<a href="../socket-0.6.1.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f t p) -&gt; <a href="../base-4.9.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.9.0.0/System-IO.html#t:IO">IO</a> (<a href="Network-Stack-Server.html#t:ServerMessage">ServerMessage</a> (<a href="../socket-0.6.1.0/System-Socket-Unsafe.html#t:Socket">Socket</a> f t p)) <a href="src/Network.Stack.Server.html#receive" class="link">Source</a> <a href="#v:receive" class="selflink">#</a></p></div></div></td></tr></table></div></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.2</p></div></body></html>